<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Football Conditioning Timer</title>

<style>
body{
  margin:0;
  font-family:"Arial Black",Arial,sans-serif;
  background:
    linear-gradient(rgba(0,0,0,.85),rgba(0,0,0,.85)),
    url("https://upload.wikimedia.org/wikipedia/en/thumb/4/47/FC_Barcelona_%28crest%29.svg/512px-FC_Barcelona_%28crest%29.svg.png");
  background-repeat:no-repeat;
  background-position:center;
  background-size:380px;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.app{
  background:linear-gradient(180deg,#0a1a3a,#7a0c1e);
  border:4px solid #f5c842;
  padding:22px;
  border-radius:18px;
  width:460px;
  text-align:center;
  box-shadow:0 0 40px #000;
}

h2{
  margin:6px 0 14px;
  letter-spacing:3px;
  color:#f5c842;
}

select,input{
  width:115px;
  padding:6px;
  margin:4px;
  text-align:center;
  font-weight:bold;
}

button{
  padding:12px 18px;
  margin:6px;
  font-size:15px;
  font-weight:bold;
  cursor:pointer;
  border:none;
  border-radius:8px;
  background:#f5c842;
  color:#000;
}
button:hover{opacity:.9}

#time{
  font-size:76px;
  margin:12px 0;
  letter-spacing:4px;
}

#phase{
  font-size:28px;
  margin-bottom:4px;
}

#round{
  font-size:16px;
  opacity:.9;
}

.small{
  font-size:12px;
  opacity:.75;
}
</style>
</head>

<body>
<div class="app">
<h2>‚öΩ PRO KONDIƒåN√ç TIMER</h2>

<select onchange="preset(this.value)">
  <option value="">‚Äî Kondiƒçn√≠ blok ‚Äî</option>
  <option value="rsa">RSA sprinty</option>
  <option value="hiit">HIIT bƒõhy</option>
  <option value="int">Intenzita</option>
  <option value="aero">Aerobn√≠ blok</option>
  <option value="test">Testov√Ω blok</option>
</select>

<div><label>P≈ô√≠prava</label><br><input id="prep" type="number" value="10"></div>
<div><label>Bƒõh</label><br><input id="work" type="number" value="30"></div>
<div><label>Pauza</label><br><input id="rest" type="number" value="30"></div>
<div><label>S√©rie</label><br><input id="rounds" type="number" value="10"></div>

<div id="phase">P≈òIPRAV SE</div>
<div id="time">00:00</div>
<div id="round"></div>

<button onclick="start()">‚ñ∂ START</button>
<button onclick="pause()">‚è∏ PAUZA</button>
<button onclick="reset()">‚ü≤ RESET</button>
<button onclick="toggleFullscreen()">‚õ∂ FULLSCREEN</button>

<p class="small">
üó£Ô∏è Bƒõh / Pauza / 3‚Äì2‚Äì1<br>
üéØ Profi kondiƒçn√≠ n√°stroj
</p>
</div>

<script>
let timer,running=false,phase="prep",remaining=0,serie=1;

const phaseEl=document.getElementById("phase");
const timeEl=document.getElementById("time");
const roundEl=document.getElementById("round");

function speak(t){
  speechSynthesis.cancel();
  speechSynthesis.speak(new SpeechSynthesisUtterance(t));
}

function fmt(t){
  return String(Math.floor(t/60)).padStart(2,"0")+":"+String(t%60).padStart(2,"0");
}

function preset(p){
  const presets={
    rsa:[10,6,24,6],
    hiit:[10,30,30,10],
    int:[10,45,15,8],
    aero:[10,180,60,4],
    test:[10,15,15,20]
  };
  if(!presets[p])return;
  [prep.value,work.value,rest.value,rounds.value]=presets[p];
}

function start(){
  if(running)return;
  running=true;
  if(!remaining){
    phase="prep";
    remaining=+prep.value;
    serie=1;
  }
  update();
  tick();
  timer=setInterval(tick,1000);
}

function tick(){
  update();
  if(remaining<=3 && remaining>0){
    speak(["","Jedna","Dva","T≈ôi"][remaining]);
  }
  remaining--;
  if(remaining<0){
    if(phase==="prep"){
      phase="work"; remaining=+work.value; speak("Bƒõh");
    }else if(phase==="work"){
      if(serie>=+rounds.value){finish();return;}
      phase="rest"; remaining=+rest.value; speak("Pauza");
    }else{
      phase="work"; remaining=+work.value; serie++; speak("Bƒõh");
    }
  }
}

function update(){
  phaseEl.textContent=
    phase==="prep"?"P≈ò√çPRAVA":
    phase==="work"?"BƒöH":"PAUZA";

  timeEl.textContent=fmt(Math.max(remaining,0));

  roundEl.textContent=
    phase!=="prep"
    ?`S√âRIE ${serie} / ${rounds.value}`
    :"ZAƒå√ÅTEK ZA:";
}

function pause(){
  if(!running)return;
  clearInterval(timer); running=false; speak("Pauza");
}

function reset(){
  clearInterval(timer);
  running=false;
  remaining=0;
  serie=1;
  phaseEl.textContent="P≈òIPRAV SE";
  timeEl.textContent="00:00";
  roundEl.textContent="";
}

function finish(){
  clearInterval(timer);
  running=false;
  phaseEl.textContent="KONEC BLOKU";
  speak("Konec bloku");
}

function toggleFullscreen(){
  document.fullscreenElement
    ?document.exitFullscreen()
    :document.documentElement.requestFullscreen();
}
</script>
</body>
</html>
